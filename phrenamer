#!/bin/sh

[ "$1" ] && dir=$1 || dir="."
files=$(find "$dir" -regextype posix-extended -regex '.*\.(jpg|JPG|jpeg)')

IFS="
"

count=0
for fname in $files; do
	count=$((count+1))
	newname="$dir/$(printf %02d $count).jpg"
	! [ -f "$newname" ] && mv "$fname" "$newname"
done

